/*!
 * remark (http://getbootstrapadmin.com/remark)
 * Copyright 2017 amazingsurge
 * Licensed under the Themeforest Standard Licenses
 */
!function(t,a,e){"use strict";var n=a.Site;e(t).ready(function(t){n.run()}),function(){var t=0;e(".site-navbar").length>0&&(t=e(".site-navbar").eq(0).innerHeight());e("#exampleFixedHeader").DataTable({responsive:!0,fixedHeader:{header:!0,headerOffset:t},bPaginate:!1,sDom:"t"})}(),function(){e(t).ready(function(){var t=e.components.getDefaults("dataTable"),a=e.extend(!0,{},t,{initComplete:function(){this.api().columns().every(function(){var t=this,a=e('<select class="form-control width-full"><option value=""></option></select>').appendTo(e(t.footer()).empty()).on("change",function(){var a=e.fn.dataTable.util.escapeRegex(e(this).val());t.search(a?"^"+a+"$":"",!0,!1).draw()});t.data().unique().sort().each(function(t,e){a.append('<option value="'+t+'">'+t+"</option>")})})}});e("#exampleTableSearch").DataTable(a)})}(),function(){e(t).ready(function(){var t=e.components.getDefaults("dataTable"),a=e.extend(!0,{},t,{aoColumnDefs:[{bSortable:!1,aTargets:[-1]}],iDisplayLength:5,aLengthMenu:[[5,10,25,50,-1],[5,10,25,50,"All"]],sDom:'<"dt-panelmenu clearfix"Tfr>t<"dt-panelfooter clearfix"ip>',oTableTools:{sSwfPath:"../../../global/vendor/datatables-tabletools/swf/copy_csv_xls_pdf.swf"}});e("#exampleTableTools").dataTable(a)})}(),function(t){var e={options:{addButton:"#addToTable",table:"#exampleAddRow",dialog:{wrapper:"#dialog",cancelButton:"#dialogCancel",confirmButton:"#dialogConfirm"}},initialize:function(){this.setVars().build().events()},setVars:function(){return this.$table=t(this.options.table),this.$addButton=t(this.options.addButton),this.dialog={},this.dialog.$wrapper=t(this.options.dialog.wrapper),this.dialog.$cancel=t(this.options.dialog.cancelButton),this.dialog.$confirm=t(this.options.dialog.confirmButton),this},build:function(){return this.datatable=this.$table.DataTable({aoColumns:[null,null,null,{bSortable:!1}],language:{sSearchPlaceholder:"Search..",lengthMenu:"_MENU_",search:"_INPUT_"}}),a.dt=this.datatable,this},events:function(){var a=this;return this.$table.on("click","a.save-row",function(e){e.preventDefault(),a.rowSave(t(this).closest("tr"))}).on("click","a.cancel-row",function(e){e.preventDefault(),a.rowCancel(t(this).closest("tr"))}).on("click","a.edit-row",function(e){e.preventDefault(),a.rowEdit(t(this).closest("tr"))}).on("click","a.remove-row",function(e){e.preventDefault();var n=t(this).closest("tr");bootbox.dialog({message:"Are you sure that you want to delete this row?",title:"ARE YOU SURE?",buttons:{danger:{label:"Confirm",className:"btn-danger",callback:function(){a.rowRemove(n)}},main:{label:"Cancel",className:"btn-primary",callback:function(){}}}})}),this.$addButton.on("click",function(t){t.preventDefault(),a.rowAdd()}),this.dialog.$cancel.on("click",function(a){a.preventDefault(),t.magnificPopup.close()}),this},rowAdd:function(){this.$addButton.attr({disabled:"disabled"});var t,a,e;t=['<a href="#" class="btn btn-sm btn-icon btn-pure btn-default hidden on-editing save-row" data-toggle="tooltip" data-original-title="Save"><i class="icon md-wrench" aria-hidden="true"></i></a>','<a href="#" class="btn btn-sm btn-icon btn-pure btn-default hidden on-editing cancel-row" data-toggle="tooltip" data-original-title="Delete"><i class="icon md-close" aria-hidden="true"></i></a>','<a href="#" class="btn btn-sm btn-icon btn-pure btn-default on-default edit-row" data-toggle="tooltip" data-original-title="Edit"><i class="icon md-edit" aria-hidden="true"></i></a>','<a href="#" class="btn btn-sm btn-icon btn-pure btn-default on-default remove-row" data-toggle="tooltip" data-original-title="Remove"><i class="icon md-delete" aria-hidden="true"></i></a>'].join(" "),a=this.datatable.row.add(["","","",t]),e=this.datatable.row(a[0]).nodes().to$(),e.addClass("adding").find("td:last").addClass("actions"),this.rowEdit(e),this.datatable.order([0,"asc"]).draw()},rowCancel:function(t){var a,e;t.hasClass("adding")?this.rowRemove(t):(e=this.datatable.row(t.get(0)).data(),this.datatable.row(t.get(0)).data(e),a=t.find("td.actions"),a.get(0)&&this.rowSetActionsDefault(t),this.datatable.draw())},rowEdit:function(a){var e,n=this;e=this.datatable.row(a.get(0)).data(),a.children("td").each(function(i){var o=t(this);o.hasClass("actions")?n.rowSetActionsEditing(a):o.html('<input type="text" class="form-control input-block" value="'+e[i]+'"/>')})},rowSave:function(a){var e,n=this,i=[];a.hasClass("adding")&&(this.$addButton.removeAttr("disabled"),a.removeClass("adding")),i=a.find("td").map(function(){var e=t(this);return e.hasClass("actions")?(n.rowSetActionsDefault(a),n.datatable.cell(this).data()):t.trim(e.find("input").val())}),this.datatable.row(a.get(0)).data(i),e=a.find("td.actions"),e.get(0)&&this.rowSetActionsDefault(a),this.datatable.draw()},rowRemove:function(t){t.hasClass("adding")&&this.$addButton.removeAttr("disabled"),this.datatable.row(t.get(0)).remove().draw()},rowSetActionsEditing:function(t){t.find(".on-editing").removeClass("hidden"),t.find(".on-default").addClass("hidden")},rowSetActionsDefault:function(t){t.find(".on-editing").addClass("hidden"),t.find(".on-default").removeClass("hidden")}};t(function(){e.initialize()})}.apply(this,[jQuery])}(document,window,jQuery);