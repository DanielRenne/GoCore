/*!
 * remark (http://getbootstrapadmin.com/remark)
 * Copyright 2017 amazingsurge
 * Licensed under the Themeforest Standard Licenses
 */
!function(t,e,o){"use strict";e.AppMessage=App.extend({scrollChatsToBottom:function(){var t=o(".app-message-chats"),e=t.height(),s=o(".chats",t).outerHeight(),a=o("#historyBtn").outerHeight();t.scrollTop(s+a-e)},handleResize:function(){var t=this;o(e).on("resize",function(){t.scrollChatsToBottom()})},handleTalking:function(){var t=this,e=o(".app-message-chats"),s=o(".message-input textarea"),a=o(".app-message-input");autosize(o(".message-input textarea")),s.on("autosize:resized",function(){var o=a.outerHeight();e.css("height","calc(100% - "+o+"px)"),t.scrollChatsToBottom()}),o(".message-input-btn>button").on("click",function(){var e=o(".message-input>.form-control").val(),s=o("<div class='chat-content'><p>"+e+"</p></div>");e.length>0?(o(".chat").last().find(".chat-body").append(s),o(".message-input>.form-control").attr("placeholder",""),o(".message-input>.form-control").val("")):o(".message-input>.form-control").attr("placeholder","type text here..."),o(".message-input>.form-control").focus(),t.scrollChatsToBottom()})},run:function(t){this.scrollChatsToBottom(),this.handleResize(),this.handleTalking()}}),o(t).ready(function(t){AppMessage.run()})}(document,window,jQuery);