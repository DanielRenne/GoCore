/*!
 * remark (http://getbootstrapadmin.com/remark)
 * Copyright 2017 amazingsurge
 * Licensed under the Themeforest Standard Licenses
 */
!function(t,e,a){"use strict";e.AppCalendar=App.extend({handleFullcalendar:function(){var t,n=[{title:"All Day Event",start:"2016-10-01"},{title:"Long Event",start:"2016-10-07",end:"2016-10-10",backgroundColor:a.colors("cyan",600),borderColor:a.colors("cyan",600)},{id:999,title:"Repeating Event",start:"2016-10-09T16:00:00",backgroundColor:a.colors("red",600),borderColor:a.colors("red",600)},{title:"Conference",start:"2016-10-11",end:"2016-10-13"},{title:"Meeting",start:"2016-10-12T10:30:00",end:"2016-10-12T12:30:00"},{title:"Lunch",start:"2016-10-12T12:00:00"},{title:"Meeting",start:"2016-10-12T14:30:00"},{title:"Happy Hour",start:"2016-10-12T17:30:00"},{title:"Dinner",start:"2016-10-12T20:00:00"},{title:"Birthday Party",start:"2016-10-13T07:00:00"}],i=a(".site-action").actionBtn().data("actionBtn"),o={header:{left:null,center:"prev,title,next",right:"month,agendaWeek,agendaDay"},defaultDate:"2016-10-12",selectable:!0,selectHelper:!0,select:function(){a("#addNewEvent").modal("show")},editable:!0,eventLimit:!0,windowResize:function(t){var n=a(e).outerWidth(),i=a.extend({},o);i.events=t.calendar.getEventCache(),i.aspectRatio=n<667?.5:1.35,a("#calendar").fullCalendar("destroy"),a("#calendar").fullCalendar(i)},eventClick:function(t){var e=t.backgroundColor?t.backgroundColor:a.colors("blue",600);a("#editEname").val(t.title),t.start?a("#editStarts").datepicker("update",t.start._d):a("#editStarts").datepicker("update",""),t.end?a("#editEnds").datepicker("update",t.end._d):a("#editEnds").datepicker("update",""),a("#editColor [type=radio]").each(function(){var t=a(this),n=t.data("color").split("|"),n=a.colors(n[0],n[1]);n===e?t.prop("checked",!0):t.prop("checked",!1)}),a("#editColor [value="+t.backgroundColor+"]").prop("checked",!0),a("#editNewEvent").modal("show").one("hidden.bs.modal",function(e){t.title=a("#editEname").val();var n=a("#editColor [type=radio]:checked").data("color").split("|");n=a.colors(n[0],n[1]),t.backgroundColor=n,t.borderColor=n,t.start=new Date(a("#editStarts").data("datepicker").getDate()),t.end=new Date(a("#editEnds").data("datepicker").getDate()),a("#calendar").fullCalendar("updateEvent",t)})},eventDragStart:function(){i.show()},eventDragStop:function(){i.hide()},events:n,droppable:!0},l=a.extend({},o);l.aspectRatio=.5,t=a(e).outerWidth()<667?l:o,a("#editNewEvent").modal(),a("#calendar").fullCalendar(t)},handleSelective:function(){var t=[{id:"uid_1",name:"Herman Beck",avatar:"../../../../global/portraits/1.jpg"},{id:"uid_2",name:"Mary Adams",avatar:"../../../../global/portraits/2.jpg"},{id:"uid_3",name:"Caleb Richards",avatar:"../../../../global/portraits/3.jpg"},{id:"uid_4",name:"June Lane",avatar:"../../../../global/portraits/4.jpg"}],e=[{id:"uid_1",name:"Herman Beck",avatar:"../../../../global/portraits/1.jpg"},{id:"uid_2",name:"Caleb Richards",avatar:"../../../../global/portraits/2.jpg"}];a('[data-plugin="jquery-selective"]').selective({namespace:"addMember",local:t,selected:e,buildFromHtml:!1,tpl:{optionValue:function(t){return t.id},frame:function(){return'<div class="'+this.namespace+'">'+this.options.tpl.items.call(this)+'<div class="'+this.namespace+'-trigger">'+this.options.tpl.triggerButton.call(this)+'<div class="'+this.namespace+'-trigger-dropdown">'+this.options.tpl.list.call(this)+"</div></div></div>"},triggerButton:function(){return'<div class="'+this.namespace+'-trigger-button"><i class="md-plus"></i></div>'},listItem:function(t){return'<li class="'+this.namespace+'-list-item"><img class="avatar" src="'+t.avatar+'">'+t.name+"</li>"},item:function(t){return'<li class="'+this.namespace+'-item"><img class="avatar" src="'+t.avatar+'" title="'+t.name+'">'+this.options.tpl.itemRemove.call(this)+"</li>"},itemRemove:function(){return'<span class="'+this.namespace+'-remove"><i class="md-minus-circle"></i></span>'},option:function(t){return'<option value="'+this.options.tpl.optionValue.call(this,t)+'">'+t.name+"</option>"}}})},handleAction:function(){a(".site-action").actionBtn().data("actionBtn")},handleEventList:function(){a("#addNewEventBtn").on("click",function(){a("#addNewEvent").modal("show")}),a(".calendar-list .calendar-event").each(function(){var t=a(this),e=t.data("color").split("-");t.data("event",{title:t.data("title"),stick:t.data("stick"),backgroundColor:a.colors(e[0],e[1]),borderColor:a.colors(e[0],e[1])}),t.draggable({zIndex:999,revert:!0,revertDuration:0,helper:function(){return'<a class="fc-day-grid-event fc-event fc-start fc-end" style="background-color:'+a.colors(e[0],e[1])+";border-color:"+a.colors(e[0],e[1])+'"><div class="fc-content"><span class="fc-title">'+t.data("title")+"</span></div></a>"}})})},handleListItem:function(){a(".site-action-toggle").on("click",function(t){a("#addNewCalendar").modal("show"),t.stopPropagation()}),a(t).on("click","[data-tag=list-delete]",function(t){bootbox.dialog({message:"Do you want to delete the calendar?",buttons:{success:{label:"Delete",className:"btn-danger",callback:function(){}}}})})},run:function(t){a("#addNewCalendarForm").modal({show:!1}),a("#addNewEvent").modal({show:!1}),a("#editNewEvent").modal({show:!1}),this.handleEventList(),this.handleFullcalendar(),this.handleAction(),this.handleSelective(),this.handleListItem(),t()}}),a(t).ready(function(){AppCalendar.run()})}(document,window,jQuery);