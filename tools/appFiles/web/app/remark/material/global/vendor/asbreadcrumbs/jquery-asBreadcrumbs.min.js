/*! jQuery asBreadcrumbs - v0.1.0 - 2016-04-05
* https://github.com/amazingSurge/jquery-asBreadcrumbs
* Copyright (c) 2016 amazingSurge; Licensed GPL */
!function(a,b,c,d){"use strict";var e="asBreadcrumbs",f=a[e]=function(b,c){this.element=b,this.$element=a(b),this.options=a.extend({},f.defaults,c,this.$element.data()),this.namespace=this.options.namespace,this.$element.addClass(this.namespace),this.disabled=!1,this.initialized=!1,this.isCreated=!1,this.$children=this.options.getItem(this.$element),this.$firstChild=this.$children.eq(0),this.$dropdownWrap=null,this.$dropdownMenu=null,this.gap=6,this.childrenInfo=[],this._trigger("init"),this.init()};f.prototype={constructor:f,init:function(){var b=this;this.$element.addClass(this.namespace+"-"+this.options.overflow),this.generateChildrenInfo(),this.createDropdown(),this.render(),this.options.responsive&&a(c).on("resize",this._throttle(function(){b.resize.call(b)},250)),this.initialized=!0,this._trigger("ready")},_trigger:function(a){var b=Array.prototype.slice.call(arguments,1),c=[this].concat(b);this.$element.trigger(e+"::"+a,c),a=a.replace(/\b\w+\b/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)});var d="on"+a;"function"==typeof this.options[d]&&this.options[d].apply(this,b)},generateChildrenInfo:function(){var b=this;this.$children.each(function(){var c=a(this);b.childrenInfo.push({$this:c,outerWidth:c.outerWidth(),$content:a(b.options.dropdownContent(c.text())).attr("href",b.options.getItem(c).attr("href"))})}),"left"===this.options.overflow&&this.childrenInfo.reverse(),this.childrenLength=this.childrenInfo.length},createDropdown:function(){if(this.isCreated!==!0){var a=this.options.dropdown();this.$dropdownWrap=this.$firstChild.clone().removeClass().addClass(this.namespace+"-dropdown dropdown "+this.options.itemClass).html(a).hide(),this.$dropdownMenu=this.$dropdownWrap.find(".dropdown-menu"),this._createDropdownItem(),"right"===this.options.overflow?this.$dropdownWrap.appendTo(this.$element):this.$dropdownWrap.prependTo(this.$element),this._createEllipsis(),this.isCreated=!0}},render:function(){for(var a=this.getDropdownWidth(),b=0,c=0,d=0,e=0,f=this.childrenLength;f>e;e++)d=this.getWidth(),c=this.childrenInfo[e].outerWidth,b+=c,b+a>d?this._showDropdown(e):this._hideDropdown(e)},resize:function(){this._trigger("resize"),this.render()},getDropdownWidth:function(){return this.$dropdownWrap.outerWidth()+(this.options.ellipsis?this.$ellipsis.outerWidth():0)},getWidth:function(){var b=0,c=this;return this.$element.children().each(function(){"inline-block"===a(this).css("display")&&"none"===a(this).css("float")&&(b+=c.gap)}),this.$element.width()-b},_createEllipsis:function(){this.options.ellipsis&&(this.$ellipsis=this.$firstChild.clone().removeClass().addClass(this.namespace+"-ellipsis "+this.options.itemClass).html(this.options.ellipsis),"right"===this.options.overflow?this.$ellipsis.insertBefore(this.$dropdownWrap).hide():this.$ellipsis.insertAfter(this.$dropdownWrap).hide())},_createDropdownItem:function(){for(var a=0,b=this.childrenLength;b>a;a++)this.childrenInfo[a].$content.appendTo(this.$dropdownMenu).hide()},_showDropdown:function(a){this.childrenInfo[a].$content.show(),this.childrenInfo[a].$this.hide(),this.$dropdownWrap.show(),this.$ellipsis.css("display","inline-block")},_hideDropdown:function(a){this.childrenInfo[a].$this.css("display","inline-block"),this.childrenInfo[a].$content.hide(),this.$dropdownWrap.hide(),this.$ellipsis.hide()},_throttle:function(a,b){var c,d,e,f=Date.now||function(){return(new Date).getTime()},g=null,h=0,i=function(){h=f(),g=null,e=a.apply(c,d),c=d=null};return function(){var j=f(),k=b-(j-h);return c=this,d=arguments,0>=k?(clearTimeout(g),g=null,h=j,e=a.apply(c,d),c=d=null):g||(g=setTimeout(i,k)),e}},destroy:function(){this.$element.children().css("display",""),this.$dropdownWrap.remove(),this.options.ellipsis&&this.$ellipsis.remove(),this.isCreated=!1,this.$element.data(e,null),a(c).off("resize"),a(c).off(".asBreadcrumbs"),this._trigger("destroy")}},f.defaults={namespace:e,overflow:"left",ellipsis:"&#8230;",dropicon:"caret",responsive:!0,itemClass:"",dropdown:function(){return'<div class="dropdown"><a href="javascript:void(0);" class="'+this.namespace+'-toggle" data-toggle="dropdown"><i class="'+this.dropicon+'"></i></a><div class="'+this.namespace+'-menu dropdown-menu"></div></div>'},dropdownContent:function(a){return'<a class="dropdown-item">'+a+"</a>"},getItem:function(a){return a.children()},onInit:null,onReady:null},a.fn[e]=function(b){if("string"!=typeof b)return this.each(function(){a.data(this,e)||a.data(this,e,new f(this,b))});var c=b,d=Array.prototype.slice.call(arguments,1);if(/^\_/.test(c))return!1;if(!/^(get)/.test(c))return this.each(function(){var b=a.data(this,e);b&&"function"==typeof b[c]&&b[c].apply(b,d)});var g=this.first().data(e);return g&&"function"==typeof g[c]?g[c].apply(g,d):void 0}}(jQuery,document,window);